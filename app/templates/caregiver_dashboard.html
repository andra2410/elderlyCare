{% extends 'base.html' %}

{% block title %}Caregivers Dashboard{% endblock %}

{% block content %}
    <style>
        /* CSS styles for the caregiver boxes */
        .caregivers-container {
            text-align: center; /* Center horizontally */
            margin-top: 20px;
        }

        .caregiver-box {
            border: 1px solid rgb(50, 57, 25, 0.7);
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
            margin-top: 40px;
            margin-left: 40px;
            width: 300px;
            background-color: rgb(50, 57, 25, 0.7);
            display: inline-grid;
            vertical-align: top;
            position: relative;
            text-align: center;
        }

        .caregiver-box strong {
            color: cornsilk;
            font-size: large;
        }

        .see-more-button {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            padding: 5px 10px;
            background-color: #ca72b4;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .additional-info-box {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent white background */
            display: none; /* Initially hidden */
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            z-index: 1000; /* Ensure the box appears on top of other content */
        }
    </style>

    <div class="greeting" style="text-align: center; margin-top: 40px; padding: 20px; background-color: rgb(50, 57, 25, 0.9); border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
        <h2 style="font-size: 24px; margin-bottom: 10px; color: blanchedalmond;">Welcome to Your Caregiver Dashboard, {{ session['username'] }}!</h2>
        <p style="font-size: 18px; color: blanchedalmond;">Thank you for choosing our platform to offer your caregiving services. Here you can find care seekers looking for assistance. Take your time exploring and connecting with care seekers that match your qualifications.</p>
    </div>

    <div class="caregivers-container">
        {% for care_seeker in care_seekers %}
            <div class="caregiver-box">
                <strong>Username:</strong> <span style="color: burlywood; font-size: large; font-weight: 600;"> {{ care_seeker.username }} </span><br>
                <strong>Type of Care Needed:</strong> {{ care_seeker.type_of_care_needed }} <br>
                <strong>Monthly Budget:</strong> {{ care_seeker.monthly_budget}} <br>
                <strong>Availability Needed:</strong> {{ care_seeker.availability_needed}} <br>
                <strong>Preferred Qualifications:</strong> {{ care_seeker.preferred_qualifications}} <br>
                <strong>Medical Conditions:</strong> {{ care_seeker.medical_conditions }} <br>
                <br>
                <br>
                <button class="see-more-button">See more</button>
                <div class="additional-info-box">
                    <p><strong>Phone Number:</strong> {{ care_seeker.phone_number }}</p>
                    <p><strong>Email:</strong> {{ care_seeker.email }}</p>
                </div>
            </div>
        {% endfor %}
    </div>

    <form action="{{ url_for('auth.logout') }}" method="POST">
        <button type="submit" class="logout-button">Logout</button>
    </form>

    <script>
        document.querySelectorAll('.see-more-button').forEach(button => {
            button.addEventListener('click', () => {
                // Toggle the visibility of the additional info box relative to the clicked button
                const additionalInfoBox = button.nextElementSibling;
                additionalInfoBox.style.display = additionalInfoBox.style.display === 'block' ? 'none' : 'block';
            });
        });
    </script>
{% endblock %}